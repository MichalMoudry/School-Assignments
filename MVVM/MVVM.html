<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 

<!--

  Material Design Lite

  Copyright 2015 Google Inc. All rights reserved.



  Licensed under the Apache License, Version 2.0 (the "License");

  you may not use this file except in compliance with the License.

  You may obtain a copy of the License at



      https://www.apache.org/licenses/LICENSE-2.0



  Unless required by applicable law or agreed to in writing, software

  distributed under the License is distributed on an "AS IS" BASIS,

  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

  See the License for the specific language governing permissions and

  limitations under the License

-->

<?php

//theme

// folder path

?>

<html lang="en" class="text-base">

  <head>

  <meta http-equiv="content-type" content="text/html;charset=utf-8" />

	<link href="code-prettify-master/src/prettify.css" type="text/css" rel="stylesheet" />

	<link href='https://fonts.googleapis.com/css?family=Roboto+Mono:100,300' rel='stylesheet' type='text/css' />

	<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

	<script type="text/javascript" src="code-prettify-master/src/prettify.js"></script>

	<script src="material/material.min.js"></script>

	



    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="description" content="Výukové materiály pro programování a mobilní aplikace.">

    <meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Preview</title>



    <!-- Add to homescreen for Chrome on Android -->

    <meta name="mobile-web-app-capable" content="yes">

    <link rel="icon" sizes="192x192" href="images/android-desktop.png">



    <!-- Add to homescreen for Safari on iOS -->

    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <meta name="apple-mobile-web-app-title" content="Material Design Lite">

    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">



    <!-- Tile icon for Win8 (144x144 + tile color) -->

    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

    <meta name="msapplication-TileColor" content="#3372DF">



    <link rel="shortcut icon" href="images/Icon.png" alt="icon">



	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="material.min.css" />

	

    <link rel="stylesheet" href="styles.css" />

	<link rel="stylesheet" href="styles-custom.css" />



	



  </head>

  <body> 

  <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header ">

      <div class="android-header mdl-layout__header mdl-layout__header--waterfall scroll-horizontal">

        <div class="mdl-layout__header-row"

          <!-- Add spacer, to align navigation to the right in desktop -->

          <div class="android-header-spacer mdl-layout-spacer"></div>

     

          <!-- Navigation -->

			<div class="android-navigation-container">

				<nav class="android-navigation mdl-navigation tab-font ">

					﻿ <a class="mdl-layout__tab is-active " href="../Csharp/">C#</a> 

					<a class="mdl-layout__tab" href="../3 rocnik/">Programování 3.R</a>            

				</nav>

          </div>

		  

		  

        </div>

      </div>

	  

	   <div class="demo-drawer mdl-layout__drawer mdl-color--primary mdl-color-text--blue-grey-50" >

        <header class="demo-drawer-header" >

          <img class="imgIcon" src="images/Icon.png" class="demo-avatar" alt="icon">

          <div>

           <span ><center class="imgText">Topic </center></span>

          </div>

		  

        </header>

		

        <nav class="demo-navigation mdl-navigation sideColor" ><!--  mdl-color--blue-grey-800 !-->

				



        </nav>

		<!-- side bar !-->

      </div>

	<!-- /sidebar !--> 

      <main class="mdl-layout__content mdl-color--grey-100" id ="content" >

        <div class="mdl-grid demo-content content">

          <div class="mdl-cell mdl-cell--1-col mdl-cell--hide-tablet mdl-cell--hide-phone " ></div>

          <div class="demo-graphs mdl-shadow--2dp mdl-color--white amazing mdl-cell mdl-cell--12-col scroll-horizontal center" id="demo">

		  <!-- sem vlož HTML, ať vidíš formátování  !-->
			<H2>MVVM model</H2>
      
			<p class="author">Michal Moudrý</p>
			
				Při vydání WPF v roce 2006 si softwarový inženýři v Microsoftu řekli, že by bylo dobré nějakým způsobem členit kód aplikace a tedy vytvořili vzorec MVVM, který bude slpužit tomuto účelu na všech možných XAML platformách.
				<p></p>
				Jedná se tedy o vzorec pro rozčlenění kódu v projektu. Kdy se dá aplikovat na všech XAML platformách. Cílem MVVM je poskytnout jasné oddělení ovladačů v uživatelském rozhraní a jejich logikou. Jak z názvu vyplívá, tak se skládá ze tří částí, tedy Model, View, ViewModel. Ale doopravdy jsou zde čtyři části, kdy ke třem zmíněným částem patří část Services. Tento vzorec může být těžší na pochopení, vzhledem k jeho názvu (Model-View-ViewModel, kdy struktura je View-ViewModel-Model) a také kvůli existenci čtvrté vrstvy tohoto vzorce, přesto všechno je velice jednoduchý a užitečný viz. výhody.
				
				<H3>Výhody</H3>
				<ul>
					<li>Výborný workflow mezi vývojáři a designery, konkrétně poskytuje výhody jako usnadnění práce během procesu vývoje aplikace, kdy vývojáři a designeři mohou pracovat nezávisle a souběžně na jejich komponentách projektu. Například designeři budou pracovat s View částí a vývojáři budou pracovat s ViewModel a Model částmi.</li>
					<li>Usnadění testování jednotek, kdy vývojáři mohou provádět dané testy bez používání View částí.<br>Jednotka v testování jednotek: <a href="https://dev.to/ruidfigueiredo/what-exactly-is-a-unit-in-unit-testing" title="Unit in unit testing" target="_blank">dev.to - Unit in unit testing</a></li>
					<li>Možnost upravování designu aplikace bez nutnosti úpravy kódu, protože View část je dělána v XAML a nová verze by tedy měla fungovat s existující ViewModel částí.</li>
					<li>Pokud existuje implementace Model části, u které je riskantní provádět změny, tak v tomto případě ViewModel část funguje jako adaptér pro tyto části a umožňuje se vyhnout velkým změnám kódu.</li>
				</ul>
				
				<H3>Nevýhody</H3>
				<ul>
					<li>Generalizace ViewModel části u rozsáhlejších aplikací je složitější, tedy data binding způsobuje větší využití hardwarových prostředků cílového zařízení.</li>
				</ul>
				
			<p>
			
			</p>
			
			<H3>Struktura</H3>
			
			<H4>View</H4>
			<p>
				Tato vrstva definuje strukturu, layout a obecně vzhled uživatelského rozhraní. View by měl být ve většíně napsaný v XAML s minimálním code-behind, který neobsahuje logiku (př. Page1.xaml je část s XAML a Page1.xaml.cs je code-behind pro tuto část). View a ViewModel jsou propojeny zapomoci code-behind.<br>
				<img src="Assets/Images/View.png" title="Ukázka části View" alt="Ukázka části View" />
			</p>
			
			<H4>ViewModel</H4>
			<p>
				ViewModel souží jako prostředník mezi View a Model, kdy je odpovědný za zpracovávání operace s Model vrstvou, kdy typicky zapomoci metod pracuje s daným Modelem a pak poskytuje jeho data View části pro zobrazení uživateli.<br>
				<img src="Assets/Images/ViewModel.png" title="Ukázka části ViewModel" alt="Ukázka části ViewModel" />
			</p>
			
			<H4>Model</H4>
			<p>
				Model je implementace doménového modelu aplikace, který zahrnuje business a validační logiku, uložiště, DTO a POCO, například to je třída Person, která má nějaké atributy a může mít i logiku pro porovnávání objektů viz. <a href="https://ucitel.sps-prosek.cz/~maly/PRG/materials/csharp/#porovnavani-objektu" title="Porovnávání objeků" alt="Porovnávání objeků" target="_blank">Porovnávání objeků</a>.<br>
				<img src="Assets/Images/Model.png" title="Ukázka části Model" alt="Ukázka části Model" />
			</p>
			
			
			<H4>Services</H4>
			
			<H4>Shrnutí činnosti mezi vrstvami</H4>
			<p>
				Kód je tedy rozdělený na čtyři vrstvy, kdy je zde View část, která obsahuje všechny záležitosti týkající se grafiky, tedy různé animace, změny barvy, atd. Přičemž tato vrstva se dokáže odkazovat na ViewModel a ne naopak, výhodou je nezávislost ViewModelu pro přenášení mezi různými assembly. ViewModel vrstva slouží pro práci s Modelem, proto obsahuje operace (metody) s Modelem, ke kterému je "spojena" (pozn. v praxi má jeden Model vždy jeden ViewModel). Tato vrstva může využít vrstvy Services pro abstrakci metod, například ukládání do souboru, pokud to chceme změnit na ukládání na cloudové uložiště, tak stačí změnit vrstvu Services, bez nutnosti měnit ViewModel. Vrstva Model slouží jako logika aplikace, kdy tato vrstva zahrnuje například DTO, <a href="https://en.wikipedia.org/wiki/Plain_old_CLR_object" title="POCO" alt="POCO" target="_blank">POCO</a> a nebo validační logiku (např. porovnání objektů).
			</p>
			
			<div>
				<img src="Assets/Images/MVVM_Overview.png" title="Souhrn částí MVVM" alt="Souhrn částí MVVM" />
				<p style="text-align: center; width: 406px;">Obrázek 4 - Souhrn částí MVVM</p>
			</div>
			
			<p>
				Shrnutí MVVM vzorce v kurzu MVA: <a href="https://mva.microsoft.com/en-US/training-courses/building-blocks-universal-windows-platform-16064" title="MVA - Building blocks: UWP" target="_blank">Microsoft Virtual Academy - Building blocks: UWP</a>
			</p>
			
			<H3>Praktická ukázka</H3>
			<p>
				<p>
					Aplikace pro úpravu textu a ukládání textu do .json souboru.
				</p>
				
				<H4>View</H4>
				<p>
					View část ukázky je RootPage.xaml a RootPage.xaml.cs, kde se nachází controly pro úpravu textu a jeho ukládání do souboru. V code-behind (RootPage.xaml.cs) jsou rutiny pro událost kliknutí a metody upravující uživatelské rozhraní.<br>
					<img src="Assets/Images/SampleView.png" title="Ukázková aplikace - View" alt="Ukázková aplikace - View" />
				</p>
				
				<H4>ViewModel</H4>
				<p>
					ViewModel část ukázky je FileViewModel.cs, což je třída, která pracuje s Model částí a má na starost ukládání a načítání z uložiště cílového zařízení. Přičemž využívá vrstvy Service, které mají zaúkol abstrakci metod pro danou práci s Modelem.<br>
					<img src="Assets/Images/SampleViewModel.png" title="Ukázková aplikace - ViewModel" alt="Ukázková aplikace - ViewModel" />
				</p>
				
				<H4>Model</H4>
				<p>
					Model část ukázky je třída FileObj.cs reprezentují uložený soubor. Za účel má jenom uchovávat data o formátu souboru a samotném obsahu dokumentu.<br>
					<img src="Assets/Images/SampleModel.png" title="Ukázková aplikace - Model" alt="Ukázková aplikace - Model" />
				</p>
				
				<H4>Services</H4>
				<p>
					Services část ukázky je třída FileService.cs, která má zaúčel abstrakci metod ViewModelu a v tomto případě se jedná o ukládání a načítaní souboru z uložiště. Zde se projeví výhoda služeb, kdy je možné změnit službu a není nutné zasahovat do ViewModelu.<br>
					<img src="Assets/Images/SampleServices.png" title="Ukázková aplikace - Services" alt="Ukázková aplikace - Services" />
				</p>
				
				<H4>Souhrn</H4>
				<img src="Assets/Images/SampleOverview.png" title="Souhrn ukázkové aplikace" alt="Souhrn ukázkové aplikace" /><br>
				Odkaz na ukázku: <a href="https://github.com/MichalMoudry/School-Work/tree/master/MVVM/Sample" target="_blank" title="Notepad" alt="Notepad">Notepad</a>
			</p>
      

		<!-- konec vloženého HTML !-->

		</div>

		   <div class="demo-graphs mdl-shadow--2dp mdl-color--white amazing mdl-cell mdl-cell--12-col scroll-horizontal center" id="interestings">		  

		   </div>

		    <footer class="mdl-color--primary center footer mdl-shadow--2dp mdl-cell--12-col" id="footer">Design na základě Material Design Lite | Veškerý obsah webu (pokud není uvedeno jinak) je zakázáno kopírovat. | Verze: 0.9</footer>

        </div>

      </main>

    </div>

  </body>

  

  	<script type="text/javascript">

	prettyPrint();

	</script>

</html>
